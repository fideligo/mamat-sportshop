{% load static %}

<!-- toast.html -->
<div id="toast-container" 
     class="fixed left-1/2 -translate-x-1/2 top-8 z-50 flex flex-col items-center gap-3 pointer-events-none">
</div>

<script>
// Kalau kamu belum punya fungsi showToast di file JS utama,
// kamu bisa taruh versi basic-nya di sini agar toast langsung jalan.

function showToast(title, message = '', type = 'info', duration = 3000) {
    const container = document.getElementById('toast-container');
    if (!container) return;

    // Buat elemen toast
    const toast = document.createElement('div');
    toast.className = 'min-w-[220px] max-w-lg px-4 py-3 rounded-lg shadow-md flex items-start gap-3 transition-all transform pointer-events-auto';
    toast.style.opacity = '0';

    // Atur warna dan ikon berdasarkan tipe
    let icon = '';
    if (type === 'success') {
        toast.classList.add('bg-green-50', 'border', 'border-green-200');
        icon = '✅';
    } else if (type === 'error') {
        toast.classList.add('bg-red-50', 'border', 'border-red-200');
        icon = '❌';
    } else {
        toast.classList.add('bg-gray-50', 'border', 'border-gray-200');
        icon = 'ℹ️';
    }

    // Isi konten toast
    toast.innerHTML = `
      <div class="text-lg">${icon}</div>
      <div class="flex-1">
          <div class="font-semibold">${title}</div>
          <div class="text-sm mt-1">${message}</div>
      </div>
    `;

    // Masukkan ke container
    container.appendChild(toast);

    // Animasi muncul
    requestAnimationFrame(() => {
        toast.style.opacity = '1';
        toast.style.transform = 'translateY(0)';
    });

    // Hapus otomatis setelah durasi tertentu
    setTimeout(() => {
        toast.style.opacity = '0';
        toast.style.transform = 'translateY(-10px)';
        setTimeout(() => container.removeChild(toast), 300);
    }, duration);
}
</script>
